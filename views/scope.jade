extends layout

block extrahead

  script(src="javascripts/scope_script.js", type="text/javascript")
  link(href="stylesheets/custom-select.css", rel="stylesheet")
  script(src="javascripts/dygraph.min.js", type="text/javascript")
  link(href="stylesheets/dygraph.css", rel="stylesheet")

block content     
  div.main-container
    h3 Pulse Viewer
    div.alert.alert-danger This doesn't work yet. Yes yes. Grumble grumble. If the year is currently 2020 it will probably never work. Otherwise maybe it's being worked on.
    br
    div.row(style='width:100%')
      div.col-3
        h5 Options
        hr
        p
          strong Run: &nbsp;
          select.cselect#run_select
        p
          strong Channel: &nbsp;
          input#channel_select(type='number' min=0 max=248 value=0 name='channel') 
        p
          button.btn.btn-info(onclick="GetData()") Get New Data
        p 
          button.btn.btn-default(onclick="Prev()") Previous
          &nbsp;
          button.btn.btn-default(onclick="Next()") Next
       
      div.col-9
        div#chartdiv(style='width:100%')   

    table(style="width:100%")
      thead
        tr
          th Index (in query)
          th Channel
          th Time
          th Human time min:sec:ms
          th Length (samples)
      tbody#pulse_table

    div.row
      div.col-4
        span 
          strong Channel:
        &nbsp;
        span#channel_id 
      div.col-4
        span
          strong Time: 
        &nbsp;
        span#time_id
      div.col-4
        span
          strong Length: 
        span#length_id


  script.
    $(document).ready(function(){
      document.chart = null;
      DrawActiveLink("#lscope");
      PopulateAvailableRuns("run_select");
    });