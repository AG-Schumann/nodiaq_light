extends layout

block extrahead
  script(src="/xenonnt/javascripts/mustache.min.js", type="text/javascript")
  script(src="/xenonnt/javascripts/overview.js", type="text/javascript")
  //
    script(src="/xenonnt/javascripts/moment.min.js", type="text/javascript")
    script(src="/xenonnt/javascripts/overview_treant.js", type="text/javascript")
    script(src="/xenonnt/javascripts/raphael.js", type="text/javascript")
    script(src="/xenonnt/javascripts/jquery.easing.js", type="text/javascript")
    script(src="/xenonnt/javascripts/jquery.mousewheel.js", type="text/javascript")
    script(src="/xenonnt/javascripts/Treant.js", type="text/javascript")
    link(rel="stylesheet" href="/xenonnt/stylesheets/Treant.css")
  link(rel="stylesheet" href="/xenonnt/stylesheets/overview.css")
  //  
    script(src="/xenonnt/javascripts/go-debug.js", type="text/javascript")
  //
    script(src="/xenonnt/javascripts/d3.v5.js", type="text/javascript")
    script(src="/xenonnt/javascripts/d3_relation.js", type="text/javascript")
    script(src="/xenonnt/javascripts/d3-bboxCollide.js ", type="text/javascript")
  

block content     
  div.main-container
    span.fontscale Welcome #{user.first_name}, feel free to look around but careful touching anything! This is an alpha-level preview. Also, it will be rebooted randomly, go down for days, change colors, crash your browser, mine bitcoin in the background, install funny cookies, and do all kinds of crazy stuff. So don't be surprised.
    hr

    div.row
      div.col-12.col-md-6
        h5 Detector Status
      div.col-12.col-md-6
        h5 Run History
      div.col-12.col-md-6
        h5 Who's on Shift
        div#shift_box

    div#treant(style="width:100%;height:100%;margin:0")
    //
      canvas#d3_canvas(style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);")
      div#graph_canvas(style="width:100%;min-width:600px;height:65%;min-height:800px;")
      div#plot_div(style="width:100%;height:30%")
    
    
  script.
    $(document).ready(function(){
      DrawActiveLink("#lindex");
      PopulateShifters("shift_box");
      //DrawOverviewCharts();
      //UpdateOverviewPage();
      //GetOptionsFiles(DrawMap);
      //GetOptionsFiles(DrawTree);
      //UpdateFromReaders();
    });