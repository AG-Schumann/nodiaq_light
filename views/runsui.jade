extends layout

block extrahead
  link(rel="stylesheet", href="stylesheets/jquery.dataTables.min.css")
  script(src="javascripts/jquery.dataTables.min.js", type="text/javascript")
  script(src="https://cdn.datatables.net/plug-ins/1.10.19/dataRender/datetime.js", type="text/javascript")
  script(src="javascripts/moment.min.js", type="text/javascript")
  script(src="javascripts/runs_table.js", type="text/javascript")
  link(rel="stylesheet" href="https://rawgithub.com/yesmeck/jquery-jsonview/master/dist/jquery.jsonview.css")
  script(type="text/javascript" src="https://rawgithub.com/yesmeck/jquery-jsonview/master/dist/jquery.jsonview.js")

block content     
  div.main-container
    div.row#addtagrow(style="display:none;padding-left:20px")
      div.col-md-12.col-lg-6
        div.form-group.row
          label(for="taginput") Add tags to selected: &nbsp;
          select.form-control#taginput(style="width:20%;min-width:150px") Choose a tag
            option(value="messy") messy
            option(value="bad") bad
            option(value="flash") flash
            option(value="nofield") nofield
            option(value="earthquake") earthquake
            span &nbsp;
          button.btn.btn-default#add_tag_button Add Tags
      div.col-md-12.col-lg-6
        div.form-group.row
          label(for="commentinput") Add comment to selected: &nbsp;
          input#commentinput(type="text")
          span &nbsp;
          button.btn.btn-default#add_comment_button Add Comments
    br
    table#runs_table
      thead
        tr
          th Detail
          th Number
          th Detectors
          th Mode
          th Source
          th User
          th Start
          th End
          th Tags
          th Top Comment
  div.modal.fade#runsModal(tabindex="-1" role="dialog")
      div.modal-dialog(role="document")
        div.modal-content
          div.modal-body
            ul.nav.nav-tabs#runTab(role="tablist")
              li.nav-item
                a.nav-link.active#run_overview_tab(href="#tab_overview" data-toggle="tab" aria-controle="overview" aria-selected="true" role="tab") Detail
              li.nav-item
                a.nav-link#run_tags_tab(data-toggle="tab" href="#tab_tags" role="tab" aria-controls="tag" aria-selected="false") Tags
              li.nav-item
                a.nav-link#run_comments_tab(data-toggle="tab" href="#tab_comments" role="tab" aria-controls="comment" aria-selected="false") Comments
              li.nav-item
                a.nav-link#run_locations_tab(data-toggle="tab" href="#tab_locations" role="tab" aria-controls="locations" aria-selected="false") Locations
              li.nav-item
                a.nav-link#run_json_tab(data-toggle="tab" href="#tab_json" role="tab" aria-controls="json" aria-selected="false") JSON
            div.tab-content#modalTabContent
              div.tab-pane.fade.show.active#tab_overview(role="tabpanel" aria-labelledby="overview-tab") 
                div.row(style="padding-top:10px")
                  - var atts = ['Number', 'Detectors', 'Start', 'End', 'User', 'Mode', 'Source'];
                  each att in atts
                    div.col-sm-6
                      strong #{att}:
                    div.col-sm-6
                      span(id="detail_#{att}")
              div.tab-pane.fade#tab_tags(role="tabpanel" aria-labelledby="tags-tab") 
                table.table.table-striped
                  thead
                    td User
                    td Tag
                    td Date Added
                    td Remove?
                  tbody#detail_Tags
                div.form-group.row(style="min-width:500px;padding-left:15px;")
                  label(for="newtag") Add tag: &nbsp;
                  input#newtag(type="text")
                  span &nbsp;
                  button.btn.btn-default#add_tag_detail_button Add Tag
                  br
              div.tab-pane.fade#tab_comments(role="tabpanel" aria-labelledby="comments-tab") 
                table.table.table-striped
                  thead
                    td User
                    td Comment
                    td Date Added
                  tbody#detail_Comments
                div.form-group.row(style="min-width:500px;padding-left:15px;")
                  label(for="newcomment") Add comment: &nbsp;
                  input#newcomment(type="text")
                  span &nbsp;
                  button.btn.btn-default#add_comment_detail_button Add Comment
                  br
              div.tab-pane.fade#tab_locations(role="tabpanel" aria-labelledby="locations-tab")
                h5(style="padding:10px") no location data
              div.tab-pane.fade#tab_json(role="tabpanel" aria-labelledby="json-tab")
                div.json_detail#detail_JSON
            br
            button.btn.btn-error(type='button' data-dismiss='modal') Close         
  script.
    $(document).ready(function(){
      DrawActiveLink("#lruns");
      InitializeRunsTable("#runs_table");
      });